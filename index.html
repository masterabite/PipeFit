<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PipeFit</title>
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#4CAF50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Workout App">
    <link rel="apple-touch-icon" href="icons/icon-152x152.png">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="container">
        <header>
            <h1>PipeFit</h1>
            <nav>
                <button class="nav-btn active" data-tab="elements">–≠–ª–µ–º–µ–Ω—Ç—ã</button>
                <button class="nav-btn" data-tab="workout">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button>
                <button class="nav-btn" data-tab="current">–¢–µ–∫—É—â–∞—è</button>
            </nav>
        </header>

        <!-- –í–∫–ª–∞–¥–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
        <div class="tab-content active" id="elements-tab">
            
            <div class="form-group">
                <input type="text" id="exercise-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è">
                <input type="number" id="exercise-duration" placeholder="–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–µ–∫)">
                <button onclick="addExercise()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            
            <div class="export-import">
                <button onclick="app.exportElements()">–≠–∫—Å–ø–æ—Ä—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤</button>
                <button onclick="document.getElementById('import-elements').click()">–ò–º–ø–æ—Ä—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤</button>
                <input type="file" id="import-elements" accept=".json" style="display: none" onchange="app.importElements(event)">
            </div>

            <div class="export-import">
                <button onclick="app.exportWorkouts()">–≠–∫—Å–ø–æ—Ä—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</button>
                <button onclick="document.getElementById('import-workouts').click()">–ò–º–ø–æ—Ä—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</button>
                <input type="file" id="import-workouts" accept=".json" style="display: none" onchange="app.importWorkouts(event)">
            </div>

            <div class="elements-list" id="elements-list">
                <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>

            <div class="notification-settings">
                <h3>üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
                
                <label class="switch">
                    <input type="checkbox" id="enable-notifications" checked>
                    <span class="slider"></span>
                    –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                </label>

                <div class="notification-types">
                    <h4>–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:</h4>
                    <label>
                        <input type="checkbox" id="notify-start" checked>
                        –ù–∞—á–∞–ª–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
                    </label>
                    <label>
                        <input type="checkbox" id="notify-complete" checked>
                        –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
                    </label>
                    <label>
                        <input type="checkbox" id="notify-pause" checked>
                        –ü–∞—É–∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
                    </label>
                    <label>
                        <input type="checkbox" id="notify-finish" checked>
                        –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
                    </label>
                </div>

                <div class="notification-permission">
                    <button onclick="app.requestNotificationPermission()" class="permission-btn">
                        üìã –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
                    </button>
                    <p class="permission-status">
                        –°—Ç–∞—Ç—É—Å: <span id="permission-status">–ù–µ –∑–∞–ø—Ä–æ—à–µ–Ω–æ</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
        <div class="tab-content" id="workout-tab">
            <div class="workout-controls">
                <input type="text" id="workout-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏">
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="is-circular"> –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
                    </label>
                    <input type="number" id="cycles-count" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É–≥–æ–≤" value="1" min="1" disabled>
                </div>
                <button onclick="createWorkout()">–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
            </div>

            <div class="auto-pause-settings">
                <label>
                    <input type="checkbox" id="auto-pause" checked> –ê–≤—Ç–æ–ø–∞—É–∑–∞ –ø–æ—Å–ª–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
                </label>
                <label>
                    <input type="number" id="pause-duration" value="10" min="5" max="60"> —Å–µ–∫ –ø–∞—É–∑—ã
                </label>
            </div>

            <!-- <audio id="notification-sound" preload="auto">
                <source src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAADwADw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PD///////////////////////////////////////////////////////////////////////////8AAAA8TEFNRTMuMTAwBK8AAAAAAAAAADUgJAaPhQABxAAAA8AAKuU7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV" type="audio/mpeg">
            </audio> -->

            <audio id="notification-sound-stop" preload="auto">
                <source src="sound_stop.mp3" type="audio/mpeg">
                <source src="notification.ogg" type="audio/ogg">
            </audio>

            <audio id="notification-sound-pause" preload="auto">
                <source src="sound_pause.mp3" type="audio/mpeg">
                <source src="notification.ogg" type="audio/ogg">
            </audio>
            


            <div class="workout-elements" id="workout-elements">
                <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <div class="saved-workouts">
                <h3>–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h3>
                <div id="saved-workouts-list"></div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Ç–µ–∫—É—â–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
        <div class="tab-content" id="current-tab">
            <div class="current-workout">
                <h2 id="current-workout-name">–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</h2>
                
                <div class="time-info">
                    <div>–û–±—â–µ–µ –≤—Ä–µ–º—è: <span id="total-time">00:00</span></div>
                    <div>–û—Å—Ç–∞–ª–æ—Å—å: <span id="remaining-time">00:00</span></div>
                </div>

                <div class="cycle-info" id="cycle-info">
                    <span id="current-cycle">–ö—Ä—É–≥: -/-</span>
                </div>
                
                <div class="timer" id="timer">00:00</div>
                
                <div class="current-exercise" id="current-exercise">
                    <h3 id="exercise-title">-</h3>
                    <p id="exercise-time">-</p>
                </div>
                
                <div class="controls">
                    <button onclick="startWorkout()" id="start-btn">–ù–∞—á–∞—Ç—å</button>
                    <button onclick="pauseWorkout()" id="pause-btn" disabled>–ü–∞—É–∑–∞</button>
                    <button onclick="nextExercise()" id="next-btn" disabled>–°–ª–µ–¥—É—é—â–µ–µ</button>
                    <button onclick="stopWorkout()" id="stop-btn" disabled>–°—Ç–æ–ø</button>
                </div>
                
                <div class="progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span id="progress-text">0/0</span>
                </div>
                
                <div class="upcoming-exercises" id="upcoming-exercises">
                    <!-- –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è -->
                </div>
            </div>
        </div>

        <div class="backup-section">
            <h3>–ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø</h3>
            <button onclick="app.exportAllData()">–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</button>
            <button onclick="document.getElementById('import-backup').click()">–ò–º–ø–æ—Ä—Ç –±—ç–∫–∞–ø–∞</button>
            <input type="file" id="import-backup" accept=".json" style="display: none" onchange="app.importBackup(event)">
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>